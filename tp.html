<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script>

        function distance(x1, y1,  x2, y2) {
            return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));
        }

        function init() {
            var canvas = document.getElementById("canvas");
            canvas.style.backgroundColor = "#ddd";

            var context = canvas.getContext("2d");
            var redColor = "#f00";
            context.fillStyle = redColor;

            var blueColor = "#00f";
            var greenColor = "#0f0";
            var cyanColor = "#0ff";
            var references = [
                {x: 32,    y: 0,    color: redColor},
                {x: 78,    y: 28,   color: blueColor},
                {x: 80,    y: 100,  color: greenColor},
                {x: 80,    y: 70,   color: blueColor},
                {x: 120,   y: 320,  color: cyanColor},
                {x: 400,   y: 510,  color: blueColor},
                {x: 512,   y: 80,   color: redColor},
                {x: 800,   y: 600,  color: cyanColor}
            ];

            function findClosestReference(x, y) {
                var minDist = Number.MAX_VALUE;
                var minReference = null;
                for (var i = 0; i < references.length; i++) {
                    var reference = references[i];
                    var dist = distance(x, y, reference.x, reference.y);
                    if(dist < minDist) {
                        minDist = dist;
                        minReference = reference;
                    }
                }
                return minReference;
            }

            for(var y = 0; y < 600; y++) {
                for(var x = 0; x < 800; x++) {

                    var closestReference = findClosestReference(x, y);
                    var color = closestReference.color;
                    context.fillStyle = color;

                    context.fillRect(x,y,1,1);
                }
            }
        }
    </script>
</head>
<body onload="init()">
<canvas id="canvas" width="800" height="600" style="background-color: #f00;"></canvas>
</body>
</html>